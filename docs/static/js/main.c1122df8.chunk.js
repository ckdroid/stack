(this.webpackJsonpreactbootapp=this.webpackJsonpreactbootapp||[]).push([[0],{22:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var i=n(9),c=n.n(i),o=n(15),a=n.n(o),s=(n(22),n(11)),r=n(2),l=n(16),d=n(17),b=(n(24),n(25),n(8));var u=function(){var e=this,t=Object(i.useRef)(),n=Object(i.useState)(),c=Object(s.a)(n,2),o=c[0],a=c[1],u=Object(i.useState)(),j=Object(s.a)(u,2),m=j[0],h=j[1],p=Object(i.useState)(),g=Object(s.a)(p,2),f=g[0],O=g[1],x=Object(i.useState)(),v=Object(s.a)(x,2),w=v[0],y=v[1],N=Object(i.useState)(28),k=Object(s.a)(N,2),C=k[0],S=k[1],E=Object(i.useState)(),P=Object(s.a)(E,2);function R(){requestAnimationFrame(R),f&&f.render(o,m)}P[0],P[1],Object(i.useEffect)((function(){console.log("animate"),R()}),[f]),Object(i.useEffect)((function(){t.current&&z()}),[]);var z=function(){var e=t.current.clientWidth,n=t.current.clientHeight;console.log("w:"+e+"    h:"+n);var i=new r.ib,c=new r.yb({antialias:!0}),o=new r.X(45,e/n,.1,1e3);a(i),h(o),O(c),c.physicallyCorrectLights=!0,c.outputEncoding=r.zb,c.setClearColor(13421772),c.setPixelRatio(window.devicePixelRatio),c.setSize(e,n),o.position.z=30,o.position.x=0,o.position.y=15;var s=new r.a(16777215,2);i.add(s);var b=new r.k(16777215,3*Math.PI);b.position.set(.5,0,.866),o.add(b),i.add(o);var u=new l.a(o,c.domElement);u.maxPolarAngle=1.5,u.minPolarAngle=.3,u.update(),y(u),(new d.a).load("./models/model06.glb",(function(e){console.log("\u6a21\u578b\u52a0\u8f7d\u5b8c\u6210"),i.add(e.scene)}),(function(e){console.log("".concat(e.loaded/e.total*100,"% loaded"))}),(function(e){console.error("An error happened",e)})),c.render(i,o),t.current.appendChild(c.domElement)},F=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],L=function(e){F.forEach((function(t){o.getObjectByName("c"+t).visible=!(t>e)})),S(e)};return Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:"container py-2",children:[Object(b.jsx)("header",{className:"pb-1 mb-2 border-bottom",children:Object(b.jsxs)("a",{href:"/",className:"d-flex align-items-center text-dark text-decoration-none",children:[Object(b.jsx)("img",{alt:"Welcome",width:"50",height:"32",src:"./mount-fuji.svg"}),Object(b.jsx)("span",{className:"fs-4",children:"\u7bb1\u4f53\u579b\u578b\u6f14\u793a"})]})}),Object(b.jsxs)("div",{style:{position:"absolute",margin:8},children:[C," \u4ef6\u579b\u578b"]}),Object(b.jsx)("div",{id:"canvas",style:{width:"100%",height:"400px",background:"#888"},ref:t}),Object(b.jsxs)("div",{className:"mt-1",style:{width:"100%"},children:[F.map((function(t,n){return Object(b.jsx)("button",{className:"btn btn-outline-secondary mt-1 text-center",style:{width:"12%",padding:"0.375rem 0.5rem",marginRight:"0.5%"},onClick:L.bind(e,t),children:t},n)})),Object(b.jsx)("button",{className:"btn btn-outline-dark mt-1 text-center",style:{width:"23%",marginRight:"1%",marginLeft:"1%"},onClick:function(){w.reset(),m.position.z=30,m.position.x=0,m.position.y=15,w.update()},children:"\u6b63\u9762"}),Object(b.jsx)("button",{className:"btn btn-outline-dark mt-1 text-center",style:{width:"23%",marginRight:"1%",marginLeft:"0.5%"},onClick:function(){w.reset(),m.position.z=-30,m.position.x=0,m.position.y=15,w.update()},children:"\u80cc\u9762"})]}),Object(b.jsxs)("footer",{className:"pt-3 mt-4 text-muted border-top text-center",children:[Object(b.jsx)("img",{alt:"Welcome",style:{marginTop:-10},width:"30",height:"24",src:"./mount-fuji.svg"})," \u5cf0 \xa9 2021"]})]})})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),o(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(u,{})}),document.getElementById("root")),j()}},[[27,1,2]]]);
//# sourceMappingURL=main.c1122df8.chunk.js.map