(this.webpackJsonpreactbootapp=this.webpackJsonpreactbootapp||[]).push([[0],{11:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),o=n(4),c=n.n(o),a=(n(11),n(0)),r=n(5),l=n(6),d=(n(12),n(13),n(1));var b=function(){const e=Object(i.useRef)(),[t,n]=Object(i.useState)(),[s,o]=Object(i.useState)(),[c,b]=Object(i.useState)(),[m,h]=Object(i.useState)(),[j,u]=Object(i.useState)(28),[p,g]=Object(i.useState)();function x(){requestAnimationFrame(x),c&&c.render(t,s)}Object(i.useEffect)((()=>{console.log("animate"),x()}),[c]),Object(i.useEffect)((()=>{e.current&&O()}),[]);const O=()=>{let t=e.current.clientWidth,i=e.current.clientHeight;console.log("w:"+t+"    h:"+i);const s=new a.ib,c=new a.yb({antialias:!0}),d=new a.X(45,t/i,.1,1e3);n(s),o(d),b(c),c.physicallyCorrectLights=!0,c.outputEncoding=a.zb,c.setClearColor(13421772),c.setPixelRatio(window.devicePixelRatio),c.setSize(t,i),d.position.z=30,d.position.x=0,d.position.y=15;const m=new a.a(16777215,2);s.add(m);const j=new a.k(16777215,3*Math.PI);j.position.set(.5,0,.866),d.add(j),s.add(d);const u=new r.a(d,c.domElement);u.maxPolarAngle=1.5,u.minPolarAngle=.3,u.update(),h(u);(new l.a).load("./models/model06.glb",(e=>{console.log("\u6a21\u578b\u52a0\u8f7d\u5b8c\u6210"),s.add(e.scene)}),(e=>{console.log("".concat(e.loaded/e.total*100,"% loaded"))}),(e=>{console.error("An error happened",e)})),c.render(s,d),e.current.appendChild(c.domElement)},f=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],w=e=>{f.forEach((n=>{t.getObjectByName("c"+n).visible=!(n>e)})),u(e)};return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("main",{children:Object(d.jsxs)("div",{className:"container py-2",children:[Object(d.jsx)("header",{className:"pb-1 mb-2 border-bottom",children:Object(d.jsxs)("a",{href:"/",className:"d-flex align-items-center text-dark text-decoration-none",children:[Object(d.jsx)("img",{alt:"Welcome",width:"50",height:"32",src:"./mount-fuji.svg"}),Object(d.jsx)("span",{className:"fs-4",children:"\u7bb1\u4f53\u579b\u578b\u6f14\u793a"})]})}),Object(d.jsxs)("div",{style:{position:"absolute",margin:8},children:[j," \u4ef6\u579b\u578b"]}),Object(d.jsx)("div",{id:"canvas",style:{width:"100%",height:"400px",background:"#888"},ref:e}),Object(d.jsxs)("div",{className:"mt-1",style:{width:"100%"},children:[f.map(((e,t)=>Object(d.jsx)("button",{className:"btn btn-outline-secondary mt-1 text-center",style:{width:"12%",padding:"0.375rem 0.5rem",marginRight:"0.5%"},onClick:w.bind(this,e),children:e},t))),Object(d.jsx)("button",{className:"btn btn-outline-dark mt-1 text-center",style:{width:"23%",marginRight:"1%",marginLeft:"1%"},onClick:()=>{m.reset(),s.position.z=30,s.position.x=0,s.position.y=15,m.update()},children:"\u6b63\u9762"}),Object(d.jsx)("button",{className:"btn btn-outline-dark mt-1 text-center",style:{width:"23%",marginRight:"1%",marginLeft:"0.5%"},onClick:()=>{m.reset(),s.position.z=-30,s.position.x=0,s.position.y=15,m.update()},children:"\u80cc\u9762"})]}),Object(d.jsxs)("footer",{className:"pt-3 mt-4 text-muted border-top text-center",children:[Object(d.jsx)("img",{alt:"Welcome",style:{marginTop:-10},width:"30",height:"24",src:"./mount-fuji.svg"})," \u7269\u6d41 \xa9 2021"]})]})})})};var m=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((t=>{let{getCLS:n,getFID:i,getFCP:s,getLCP:o,getTTFB:c}=t;n(e),i(e),s(e),o(e),c(e)}))};c.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.0397ccfd.chunk.js.map